<button nz-button *ngIf="!definitionId  && !item" (click)="createModal(tplTitle, tplContent, tplFooter)">{{ '新增節點'}}</button>
<button nz-button *ngIf="definitionId && !item" nzType="link" (click)="createModal(tplTitle, tplContent, tplFooter)">{{ '新增節點'}}</button>
<button nz-button *ngIf="item" nzType="link" (click)="createModal(tplTitle, tplContent, tplFooter)">{{ '編輯節點'}}</button>

<ng-template #tplTitle>
<span>{{ (item) ? '編輯節點' : '新增節點' }}</span>
</ng-template>
<ng-template #tplContent>
    <nz-spin [nzSpinning]="loading">
        <form [formGroup]="form" id="ngForm">
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>代碼</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <input nz-input name="no" formControlName="no" type="text"/>
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>名稱</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <input nz-input name="name" formControlName="name" type="text"/>
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24">說明</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <textarea nz-input name="description" formControlName="description" [nzAutosize]="{ minRows: 4, maxRows: 6 }"></textarea>
                </nz-form-control>
            </nz-form-item>
        </form>
    </nz-spin>
</ng-template>
<ng-template #tplFooter>
    <button nz-button nzType="primary" type="button" (click)="save()" [disabled]="form?.invalid" [nzLoading]="loading">儲存</button>
    <button nz-button (click)="close()" [nzLoading]="loading">取消</button>
</ng-template>