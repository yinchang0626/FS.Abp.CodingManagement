<button nz-button *ngIf="!definitionId  && !data" nzType="primary" (click)="createModal(tplTitle, tplContent, tplFooter)">{{ '新增'}}</button>
<button nz-button *ngIf="definitionId && !data" nzType="link" (click)="createModal(tplTitle, tplContent, tplFooter)">{{ '新增'}}</button>
<button nz-button *ngIf="data" nzType="link" (click)="createModal(tplTitle, tplContent, tplFooter)">{{ '編輯'}}</button>

<ng-template #tplTitle>
<span>{{ (data) ? '編輯' : '新增' }}</span>
</ng-template>
<ng-template #tplContent>
    <nz-spin [nzSpinning]="loading">
        <form [formGroup]="form" id="ngForm">
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>啟用</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <label nz-checkbox name="enable" formControlName="enable"></label>
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>代碼</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <input nz-input name="no" formControlName="no" type="text"/>
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>名稱</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <input nz-input name="displayName" formControlName="displayName" type="text"/>
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24">說明</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <textarea nz-input name="description" formControlName="description" [nzAutosize]="{ minRows: 4, maxRows: 6 }"></textarea>
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24">設定</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <nz-select [nzSize]="'large'" nzMode="tags" nzPlaceHolder="選擇">
                        <nz-option *ngFor="let item of settingGroups" [nzLabel]="item" [nzValue]="item"></nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </form>
    </nz-spin>
</ng-template>
<ng-template #tplFooter>
    <button nz-button nzType="primary" type="button" (click)="save()" [disabled]="form?.invalid" [nzLoading]="loading">儲存</button>
    <button nz-button (click)="close()" [nzLoading]="loading">取消</button>
</ng-template>